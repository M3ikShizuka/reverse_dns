# TEST CASES
## Тест внесения данных на сервис и их автоматическое обновление
1. Запускаем сервер
2. Отправляем данные на серве через Postman:
Send fqdns to the service
```json
[
    "google.com.",
    "facebook.com.",
    "youtube.com.",
    "yahoo.com.",
    "baidu.com.",
    "wikipedia.org.",
    "amazon.com.",
    "twitter.com.",
    "taobao.com.",
    "qq.com."
]
```
3. Проверяем данные в базе, обычно DNS выдаёт 32 записи для этих fqdn
4. В логах смотрим через сколько произойдёт следующее обновление данных в базе.
5. После обновления данных, в базе должно быть 64 записи, из них по фильтру {historical: true} 32 исторические и столько же не исторических.

## Тест внесения дублирующихся данных на сервис.
1. Повтор отправляем данные на серве через Postman:
Send fqdns to the service
```json
[
    "google.com.",
    "facebook.com.",
    "youtube.com.",
    "yahoo.com.",
    "baidu.com.",
    "wikipedia.org.",
    "amazon.com.",
    "twitter.com.",
    "taobao.com.",
    "qq.com."
]
```
2. Ищем записи по фильтру {historical: true}. Видем что исторических записей всё также 32, дублирующихся записей нет.

## Получение данных с сервиса
1. Делаем запрос Postman
Send fqdns to the service
```json
[
    "104.244.42.65",
    "106.11.226.158",
    "110.242.68.66",
    "113.108.81.189",
    "123.150.76.218",
    "173.194.222.100",
    "173.194.222.101",
    "173.194.222.102",
    "173.194.222.113",
    "173.194.222.138",
    "173.194.222.139",
    "185.15.59.224",
    "203.205.254.157",
    "205.251.242.103",
    "31.13.72.36",
    "39.156.66.10",
    "52.94.236.248",
    "54.239.28.85",
    "59.82.122.115",
    "74.125.131.136",
    "74.125.131.190",
    "74.125.131.91",
    "74.125.131.93",
    "74.6.143.25",
    "74.6.143.26",
    "74.6.231.20",
    "74.6.231.21",
    "98.137.11.163",
    "98.137.11.164"
]
```

2. Получаем результат
```json
{
    "104.244.42.65": [
        "twitter.com"
    ],
    "106.11.226.158": [
        "taobao.com"
    ],
    "110.242.68.66": [
        "baidu.com"
    ],
    "113.108.81.189": [
        "qq.com"
    ],
    "123.150.76.218": [
        "qq.com"
    ],
    "173.194.222.100": [],
    "173.194.222.101": [],
    "173.194.222.102": [],
    "173.194.222.113": [],
    "173.194.222.138": [],
    "173.194.222.139": [],
    "185.15.59.224": [
        "wikipedia.org"
    ],
    "203.205.254.157": [
        "qq.com"
    ],
    "205.251.242.103": [
        "amazon.com"
    ],
    "31.13.72.36": [],
    "39.156.66.10": [
        "baidu.com"
    ],
    "52.94.236.248": [
        "amazon.com"
    ],
    "54.239.28.85": [
        "amazon.com"
    ],
    "59.82.122.115": [
        "taobao.com"
    ],
    "74.125.131.136": [],
    "74.125.131.190": [],
    "74.125.131.91": [],
    "74.125.131.93": [],
    "74.6.143.25": [
        "yahoo.com"
    ],
    "74.6.143.26": [
        "yahoo.com"
    ],
    "74.6.231.20": [
        "yahoo.com"
    ],
    "74.6.231.21": [
        "yahoo.com"
    ],
    "98.137.11.163": [
        "yahoo.com"
    ],
    "98.137.11.164": [
        "yahoo.com"
    ]
}
```